
akka {
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  logger-startup-timeout = 30 seconds
  loglevel = "INFO"
  logging-filter = "akka.event.slf4j.Slf4jLoggingFilter"
  
  http {
    server {
      server-header = "akka-wamp-0.13.0"
      
      # The time after which an idle connection will be automatically closed.
      # Set to `infinite` to completely disable idle connection timeouts.
      #
      idle-timeout = infinite
    }
    client {
      # The time after which an idle connection will be automatically closed.
      # Set to `infinite` to completely disable idle timeouts.
      #
      idle-timeout = infinite
    }
  }
  
  wamp {
    router {
      // #router
      # akka.wamp.router {
      
      # The local filesystem path the router will serve static
      # web resources (such as HTML docs) out of
      #
      webroot = "./webroot"
      
      # The boolean switch to validate against strict URIs 
      # rather than loose URIs
      #
      validate-strict-uris = false

      # The boolean switch to NOT automatically create realms 
      # if they don't exist yet.
      #
      abort-unknown-realms = false

      # The boolean switch to drop offending messages (e.g. 
      # not deserializable or against the protocol).
      #
      # By default, offending messages will cause session to be
      # closed and transport to be disconnected. Set this switch on 
      # if you rather prefer to drop offending messages and resume.
      #
      drop-offending-messages = false
      
      # Named transport configurations
      #
      transport {
        default {
          # Transport scheme can be:
          #
          # - tcp
          #     Raw TCP
          # - tsl
          #     Transport Secure Layer
          # - ws    
          #     WebSocket 
          # - wss
          #     WebSocket over TLS
          #
          scheme = "ws"

          # The hostname/IP-address to bind to
          #
          host = "127.0.0.1"

          # The TCP port number (between 0 and 65536) to bind to.
          # If set to 0 the first available random port number 
          # will be chosen
          #
          port = 8080

          # (Only for "ws" and "wss" protocols)
          # The URL file path incoming HTTP Upgrade request are expected
          # to be addressed to
          #
          file = "wamp"

          # Message format can be:
          # 
          # - json
          #   JSON Javascript Object Notation
          #
          # - msgpack
          #   Message Pack
          #
          format = "json"
        }
        secure {
          protocol = "wss"
          port = 8443
        }
        raw {
          protocol = "tcp"
          port = 9090
          format = "mgpack"
        }
      }
      // #router
    }
    
    client {
      // #client
      # Named transport configurations
      #
      transport {
        default {
          # Router URL to connect to. Transport protocol can be:
          #
          # - tcp
          #     Raw TCP
          # - tsl
          #     Transport Secure Layer
          # - ws    
          #     WebSocket 
          # - wss
          #     WebSocket over TLS
          #
          url = "ws://localhost:8080/wamp"

          # Message format can be:
          # 
          # - json
          #   JSON Javascript Object Notation
          #
          # - msgpack
          #   Message Pack
          #
          format = "json"

          # The minimum (initial) duration until the connector actor 
          # will be started again, if it is terminated because of failures
          #
          min-backoff = 3 seconds

          # The maximum exponential back-off will be capped to
          #
          max-backoff = 30 seconds
          
          # After calculation of the exponential back-off an additional 
          # random delay based on this factor is added, e.g. 0.2 adds 
          # up to 20% delay.
          #
          random-factor = 0.2
        }
        secure {
          url = "wss://localhost:8433/wamp"
        }
        raw {
          url = "tcp://localhost:9090"
          format = "msgpack"
        }
      }
      
      
      # The boolean switch to validate against strict URIs 
      # rather than loose URIs
      #
      validate-strict-uris = false
      
      # NOTE
      # Clients will always disconnect on offending messages
      # No configuration setting is provided to change this behaviour.
      #

      
      // #client
    }
  }
}
